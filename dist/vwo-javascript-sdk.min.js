/*!
 * vwo-javascript-sdk - v1.7.0
 * URL - https://github.com/wingify/vwo-node-sdk
 * 
 * Copyright 2019 Wingify Software Pvt. Ltd.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 * Dependencies used - 
 *  1. lodash.clonedeep - ^4.5.0
 *  2. murmurhash - ^0.0.2
 *  3. superstruct - ^0.8.3
 *  4. uuid - ^3.3.2
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vwoSdk=t():e.vwoSdk=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){var n=r(27);e.exports=n},function(e,t){e.exports={INDEX:"".concat("lib","/index"),VWO:"".concat("lib","/VWO"),API:"".concat("lib","/api/index"),Activate:"".concat("lib","/api/activate"),getVariation:"".concat("lib","/api/getVariation"),Track:"".concat("lib","/api/track"),IsFeatureEnabled:"".concat("lib","/api/isFeatureEnabled"),GetFeatureVariableValue:"".concat("lib","/api/getFeatureVariableValue"),Push:"".concat("lib","/api/push"),SegmentEvaluator:"".concat("lib/core","/SegmentEvaluator"),BucketingService:"".concat("lib/core","/BucketingService"),VariationDecider:"".concat("lib/core","/VariationDecider"),ConsoleLogManager:"".concat("lib/services","/ConsoleLogManager"),EventQueue:"".concat("lib/services","/EventQueue"),LoggingManager:"".concat("lib/services","/LoggingManager"),SettingsFileManager:"".concat("lib/services","/SettingsFileManager"),CachingUtil:"".concat("lib/util","/CachingUtil"),CampaignUtil:"".concat("lib/util","/CampaignUtil"),DataTypeUtil:"".concat("lib/util","/DataTypeUtil"),EventDispatcher:"".concat("lib/util","/EventDispatcher"),EventDispatcherUtil:"".concat("lib/util","/EventDispatcherUtil"),FeatureUtil:"".concat("lib/util","/FeatureUtil"),Functionutil:"".concat("lib/util","/Functionutil"),ImpressionUtil:"".concat("lib/util","/ImpressionUtil"),UuidUtil:"".concat("lib/util","/UuidUtil"),ValidateUtil:"".concat("lib/util","/ValidateUtil"),DecisionUtil:"".concat("lib/util","/DecisionUtils")}},function(e,t){var r={_toStringValue:function(e){return Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===r._toStringValue(e)},isString:function(e){return"[object String]"===r._toStringValue(e)},isObject:function(e){return"[object Object]"===r._toStringValue(e)},isFunction:function(e){return"[object Function]"===r._toStringValue(e)},isBoolean:function(e){return"[object Boolean]"===r._toStringValue(e)}};e.exports=r},function(e,t,r){var n={};n={name:"vwo-javascript-sdk",version:"1.7.0"},e.exports={SDK_NAME:n.name,SDK_VERSION:n.version,PLATFORM:"server",SEED_VALUE:1,MAX_TRAFFIC_PERCENT:100,MAX_TRAFFIC_VALUE:1e4,STATUS_RUNNING:"RUNNING",SEED_URL:"https://vwo.com",HTTP_PROTOCOL:"http://",HTTPS_PROTOCOL:"https://"}},function(e,t,r){var n;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(2),o=r(25),u=r(6),c=(a(n={},u.ACTIVATE,(function(e){var t=e.campaignKey,r=e.userId,n=e.customVariables,a=void 0===n?{}:n,i=e.variationTargetingVariables,u=void 0===i?{}:i;return[{key:"campaignKey",value:t,type:o.STRING},{key:"userId",value:r,type:o.STRING},{key:"customVariables",value:a,type:o.OBJECT},{key:"variationTargetingVariables",value:u,type:o.OBJECT}]})),a(n,u.TRACK,(function(e){var t=e.campaignKey,r=e.userId,n=e.goalIdentifier,a=e.customVariables,i=void 0===a?{}:a,u=e.variationTargetingVariables,c=void 0===u?{}:u;return[{key:"campaignKey",value:t,type:o.STRING},{key:"userId",value:r,type:o.STRING},{key:"goalIdentifier",value:n,type:o.STRING},{key:"customVariables",value:i,type:o.OBJECT},{key:"variationTargetingVariables",value:c,type:o.OBJECT}]})),a(n,u.IS_FEATURE_ENABLED,(function(e){var t=e.campaignKey,r=e.userId,n=e.customVariables,a=void 0===n?{}:n,i=e.variationTargetingVariables,u=void 0===i?{}:i;return[{key:"campaignKey",value:t,type:o.STRING},{key:"userId",value:r,type:o.STRING},{key:"customVariables",value:a,type:o.OBJECT},{key:"variationTargetingVariables",value:u,type:o.OBJECT}]})),a(n,u.GET_FEATURE_VARIABLE_VALUE,(function(e){var t=e.campaignKey,r=e.variableKey,n=e.userId,a=e.customVariables,i=void 0===a?{}:a,u=e.variationTargetingVariables,c=void 0===u?{}:u;return[{key:"campaignKey",value:t,type:o.STRING},{key:"variableKey",value:r,type:o.STRING},{key:"userId",value:n,type:o.STRING},{key:"customVariables",value:i,type:o.OBJECT},{key:"variationTargetingVariables",value:c,type:o.OBJECT}]})),a(n,u.PUSH,(function(e){var t=e.tagKey,r=e.tagValue,n=e.userId;return[{key:"tagKey",value:t,type:o.STRING},{key:"tagValue",value:r,type:o.STRING},{key:"userId",value:n,type:o.STRING}]})),n);c[u.GET_VARIATION_NAME]=c[u.ACTIVATE];var l={isValidValue:function(e){return!(void 0===e||!e)},isValidString:function(e){return l.isValidValue(e)&&i.isString(e)},isValidNumber:function(e){return l.isValidValue(e)&&i.isNumber(e)},isValidFunction:function(e){return l.isValidValue(e)&&i.isFunction(e)},isValidBoolean:function(e){return void 0!==e&&i.isBoolean(e)},isValidObject:function(e){return void 0!==e&&i.isObject(e)},areValidParamsForAPIMethod:function(e){for(var t=c[e.method](e),r=[],n=0;n<t.length;n++){var a=t[n],i=a.value;switch(a.type){case o.NUMBER:r.push(l.isValidNumber(i));break;case o.STRING:r.push(l.isValidString(i));break;case o.BOOLEAN:r.push(l.isValidBoolean(i));break;case o.OBJECT:r.push(l.isValidObject(i))}}return r.every((function(e){return e}))}};e.exports=l},function(e,t,r){var n=r(4),a=r(14),i=r(3),o=r(32),u=r(0),c=r(1),l=r(33),s=u.LogLevelEnum,f=u.LogMessageEnum,g=u.LogMessageUtil,E=u.getLogger(),p={_getVariationBucketRange:function(e){if(!e||0===e)return 0;var t=Math.ceil(100*e);return Math.min(t,i.MAX_TRAFFIC_VALUE)},getCampaignBasedOnId:function(e,t){var r,n=o.LOOK_CAMPAIGN_WITH_ID,i=a.get(n,t);if(i)return i;for(var u=0;u<e.campaigns.length;u++)if(parseInt(e.campaigns[u].id,10)===parseInt(t,10)){r=e.campaigns[u],a.set(n,t,r);break}return r},scaleVariationWeights:function(e){var t=e.reduce((function(e,t){return e+t.weight}),0);if(t)e.forEach((function(e){return e.weight=e.weight/t*100}));else{var r=100/e.length;e.forEach((function(e){return e.weight=r}))}},getCampaign:function(e,t){var r,n=o.LOOK_CAMPAIGN_WITH_KEY,i=a.get(n,t);if(i)return i;for(var u=0;u<e.campaigns.length;u++)if(e.campaigns[u].key===t){r=e.campaigns[u],a.set(n,t,r);break}return r},getCampaignStatus:function(e,t){var r=p.getCampaign(e,t);return r&&r.status?r.status.toLowerCase():""},isCampaignRunning:function(e,t){return"running"===p.getCampaignStatus(e,t)},validateCampaign:function(e){return n.isValidValue(e)&&e.variations&&Object.keys(e.variations).length>0},setVariationAllocation:function(e){for(var t=e.variations.length,r=0,n=0;r<t;r++){var a=e.variations[r];n+=p.assignRangeValues(a,n),E.log(s.INFO,g.build(f.INFO_MESSAGES.VARIATION_RANGE_ALLOCATION,{file:c.CampaignUtil,campaignKey:e.key,variationName:a.name,variationWeight:a.weight,start:a.startVariationAllocation,end:a.endVariationAllocation}))}},assignRangeValues:function(e,t){var r;return(r=p._getVariationBucketRange(e.weight))?(e.startVariationAllocation=t+1,e.endVariationAllocation=t+r):(e.startVariationAllocation=-1,e.endVariationAllocation=-1),r},getCampaignGoal:function(e,t,r){var n=o.LOOK_CAMPAIGN_GOAL,i=a.get(n,{campaignKey:t,goalIdentifier:r});if(i)return i;var u=null;if(!(e&&e.settingsFile&&t&&r))return u;var c=e.settingsFile,l=p.getCampaign(c,t);if(!l)return u;for(var s=0;s<l.goals.length;s++){var f=l.goals[s];if(f.identifier===r){u=f,a.set(n,{campaignKey:t,goalIdentifier:r},u);break}}return u},getCampaignVariation:function(e,t,r){var n=o.LOOK_CAMPAIGN_VARIATION,i=a.get(n,{campaignKey:t,variationName:r});if(i)return i;var u=null;if(!(e&&e.settingsFile&&t&&r))return u;var c=e.settingsFile,l=p.getCampaign(c,t);if(!l)return u;for(var s=0;s<l.variations.length;s++){var f=l.variations[s];if(f.name===r){u=f,a.set(n,{campaignKey:t,variationName:r},u);break}}return u},getControlForCampaign:function(e){var t={};if(!e||!e.variations)return t;for(var r=0;r<e.variations.length;r++)if(1===e.variations[r].id){t=e.variations[r];break}return t},isFeatureTestCampaign:function(e){return!(!e||e.type!==l.FEATURE_TEST)},isFeatureRolloutCampaign:function(e){return!(!e||e.type!==l.FEATURE_ROLLOUT)},isAbCampaign:function(e){return!(!e||e.type!==l.AB)}};e.exports=p},function(e,t){e.exports={LAUNCH:"launch",ACTIVATE:"activate",GET_VARIATION_NAME:"getVariation",TRACK:"track",IS_FEATURE_ENABLED:"isFeatureEnabled",GET_FEATURE_VARIABLE_VALUE:"getFeatureVariableValue",PUSH:"push"}},function(e,t,r){var n=r(9),a=r(24),i=r(12),o=r(5),u=r(2),c=r(0),l=r(1),s=r(34),f=c.LogLevelEnum,g=c.LogMessageEnum,E=c.LogMessageUtil,p=c.getLogger(),d=r(35),v=l.DecisionUtil,_="whitelisting",R="pre-segmentation",A={getVariation:function(e,t,r,n,i){var o,c,l,S,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(t.isForcedVariationEnabled){var I,b=A._evaluateWhitelisting(e,t,r,n,y);if(b?(o=s.PASSED,I="for ".concat(b.variationName)):(o=s.FAILED,I=""),p.log(f.INFO,E.build(g.INFO_MESSAGES.SEGMENTATION_STATUS,{campaignKey:r,userId:n,customVariables:JSON.stringify(y),file:v,status:o,segmentationType:_,variation:I})),b)return l=b.variationName,b}else p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.WHITELISTING_SKIPPED,{campaignKey:r,userId:n,file:v}));var O=A._getStoredVariation(e,t.key,n);if(O)return p.log(f.INFO,E.build(g.INFO_MESSAGES.GOT_STORED_VARIATION,{file:v,campaignKey:r,userId:n,variationName:O.name})),{variation:O,variationName:O.name,variationId:O.id};if(u.isObject(t.segments)&&!Object.keys(t.segments).length)p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.SEGMENTATION_SKIPPED,{campaignKey:r,userId:n,file:v}));else{var m=d(t.segments,i,r,n);if(o=m?s.PASSED:s.FAILED,p.log(f.INFO,E.build(g.INFO_MESSAGES.SEGMENTATION_STATUS,{campaignKey:r,userId:n,customVariables:JSON.stringify(i||{}),file:v,status:o,segmentationType:R,variation:""})),o===s.FAILED)return{}}var h=a.getVariationAllotted(n,t);return c=h.variation,l=h.variationName,S=h.variationId,l?(A._saveUserData(e,t,l,n),p.log(f.INFO,E.build(g.INFO_MESSAGES.VARIATION_ALLOCATED,{file:v,campaignKey:r,userId:n,variationName:l}))):p.log(f.INFO,E.build(g.INFO_MESSAGES.NO_VARIATION_ALLOCATED,{file:v,campaignKey:r,userId:n})),{variation:c&&c.variation,variationName:l,variationId:S}},_evaluateWhitelisting:function(e,t,r,a,c){var l,R;c=Object.assign({},c,{_vwoUserId:a});var A=[];if(t.variations.forEach((function(e){!u.isObject(e.segments)||Object.keys(e.segments).length?(u.isObject(e.segments)&&d(e.segments,c,r,a,e.name)?(R=s.PASSED,A.push(n(e))):R=s.FAILED,p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.SEGMENTATION_STATUS,{campaignKey:r,userId:a,customVariables:JSON.stringify(c),file:v,status:R,segmentationType:_,variation:"for ".concat(e.name)}))):p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.SEGMENTATION_SKIPPED,{campaignKey:r,userId:a,file:v,variation:", for ".concat(e.name)}))})),A.length>1){o.scaleVariationWeights(A);for(var S=0,y=0;S<A.length;S++)y+=o.assignRangeValues(A[S],y);l=i._getVariation(A,i.calculateBucketValue(a))}else l=A[0];if(l)return{variation:l,variationName:l.name,variationId:l.id}},_getStoredVariation:function(e,t,r){var n=A._getStoredUserData(e,r,t),a=n.variationName;return n&&n.campaignKey&&a?(p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.GETTING_STORED_VARIATION,{file:v,campaignKey:t,userId:r,variationName:a})),o.getCampaignVariation(e,t,a)):(p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.NO_STORED_VARIATION,{file:v,campaignKey:t,userId:r})),null)},_getStoredUserData:function(e,t,r){var n={userId:t,variationName:null,campaignKey:r};if(!e.userStorageService)return p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.NO_USER_STORAGE_SERVICE_GET,{file:v})),n;try{var a=e.userStorageService.get(t,r)||{};return p.log(f.INFO,E.build(g.INFO_MESSAGES.LOOKING_UP_USER_PROFILE_SERVICE,{file:v,userId:t})),a}catch(e){p.log(f.ERROR,E.build(g.ERROR_MESSAGES.LOOK_UP_USER_PROFILE_SERVICE_FAILED,{file:v,userId:t}))}},_saveUserData:function(e,t,r,n){var a=!1;if(!e.userStorageService)return p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.NO_USER_STORAGE_SERVICE_SET,{file:v})),a;try{e.userStorageService.set({userId:n,variationName:r,campaignKey:t.key}),p.log(f.INFO,E.build(g.INFO_MESSAGES.SAVING_DATA_USER_PROFILE_SERVICE,{file:v,userId:n})),a=!0}catch(e){p.log(f.ERROR,E.build(g.ERROR_MESSAGES.SAVE_USER_PROFILE_SERVICE_FAILED,{file:v,userId:n})),a=!1}return a}};e.exports=A},function(e,t,r){var n=r(3),a=r(16),i=r(17),o=r(41),u=r(4),c=r(11),l=r(0),s=r(1),f=l.LogLevelEnum,g=l.LogMessageEnum,E=l.LogMessageUtil,p=l.getLogger();function d(e,t){var r=e.accountId;return{account_id:r,uId:encodeURIComponent(t),random:c.getRandomNumber(),sId:c.getCurrentUnixTimestamp(),u:o.generateFor(t,r),sdk:n.SDK_NAME,"sdk-v":n.SDK_VERSION,ap:n.PLATFORM}}e.exports={buildEventForPushing:function(e,t,r,i){var o,u,c,l=Object.assign({},d(e,i));return l.url=n.HTTPS_PROTOCOL+a.BASE_URL+a.PUSH,l.tags=JSON.stringify({u:(o={},u=encodeURIComponent(t),c=encodeURIComponent(r),u in o?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,o)}),p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.IMPRESSION_FOR_PUSH,{file:s.ImpressionUtil,properties:JSON.stringify(l)})),l},buildEventForTrackingUser:function(e,t,r,i){var o=Object.assign({experiment_id:t,combination:r},d(e,i));return o.ed=JSON.stringify({p:"server"}),o.url=n.HTTPS_PROTOCOL+a.BASE_URL+a.TRACK_USER,p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.IMPRESSION_FOR_TRACK_USER,{file:s.ImpressionUtil,properties:JSON.stringify(o)})),o},buildEventForTrackingGoal:function(e,t,r,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,v=c.id,_=Object.assign({experiment_id:t,combination:r},d(e,o));return _.url=n.HTTPS_PROTOCOL+a.BASE_URL+a.TRACK_GOAL,_.goal_id=v,c.type===i.REVENUE&&u.isValidValue(l)&&(_.r=l),p.log(f.DEBUG,E.build(g.DEBUG_MESSAGES.IMPRESSION_FOR_TRACK_GOAL,{file:s.ImpressionUtil,properties:JSON.stringify(_)})),_}}},function(e,t,r){(function(e,r){var n=200,a="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",u="[object Boolean]",c="[object Date]",l="[object Function]",s="[object GeneratorFunction]",f="[object Map]",g="[object Number]",E="[object Object]",p="[object RegExp]",d="[object Set]",v="[object String]",_="[object Symbol]",R="[object ArrayBuffer]",A="[object DataView]",S="[object Float32Array]",y="[object Float64Array]",I="[object Int8Array]",b="[object Int16Array]",O="[object Int32Array]",m="[object Uint8Array]",h="[object Uint8ClampedArray]",T="[object Uint16Array]",N="[object Uint32Array]",U=/\w*$/,L=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,G={};G[o]=G["[object Array]"]=G[R]=G[A]=G[u]=G[c]=G[S]=G[y]=G[I]=G[b]=G[O]=G[f]=G[g]=G[E]=G[p]=G[d]=G[v]=G[_]=G[m]=G[h]=G[T]=G[N]=!0,G["[object Error]"]=G[l]=G["[object WeakMap]"]=!1;var C="object"==typeof e&&e&&e.Object===Object&&e,F="object"==typeof self&&self&&self.Object===Object&&self,D=C||F||Function("return this")(),M=t&&!t.nodeType&&t,k=M&&"object"==typeof r&&r&&!r.nodeType&&r,P=k&&k.exports===M;function j(e,t){return e.set(t[0],t[1]),e}function K(e,t){return e.add(t),e}function B(e,t,r,n){var a=-1,i=e?e.length:0;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function x(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function H(e,t){return function(r){return e(t(r))}}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var X,J=Array.prototype,Y=Function.prototype,z=Object.prototype,q=D["__core-js_shared__"],Q=(X=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",$=Y.toString,Z=z.hasOwnProperty,ee=z.toString,te=RegExp("^"+$.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=P?D.Buffer:void 0,ne=D.Symbol,ae=D.Uint8Array,ie=H(Object.getPrototypeOf,Object),oe=Object.create,ue=z.propertyIsEnumerable,ce=J.splice,le=Object.getOwnPropertySymbols,se=re?re.isBuffer:void 0,fe=H(Object.keys,Object),ge=ke(D,"DataView"),Ee=ke(D,"Map"),pe=ke(D,"Promise"),de=ke(D,"Set"),ve=ke(D,"WeakMap"),_e=ke(Object,"create"),Re=we(ge),Ae=we(Ee),Se=we(pe),ye=we(de),Ie=we(ve),be=ne?ne.prototype:void 0,Oe=be?be.valueOf:void 0;function me(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function he(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ne(e){this.__data__=new he(e)}function Ue(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&We(e)}(e)&&Z.call(e,"callee")&&(!ue.call(e,"callee")||ee.call(e)==o)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,a=!!n;for(var i in e)!t&&!Z.call(e,i)||a&&("length"==i||Ke(i,n))||r.push(i);return r}function Le(e,t,r){var n=e[t];Z.call(e,t)&&xe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ve(e,t){for(var r=e.length;r--;)if(xe(e[r][0],t))return r;return-1}function Ge(e,t,r,n,a,i,L){var V;if(n&&(V=i?n(e,a,i,L):n(e)),void 0!==V)return V;if(!Ye(e))return e;var C=He(e);if(C){if(V=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,V)}else{var F=je(e),D=F==l||F==s;if(Xe(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(F==E||F==o||D&&!i){if(w(e))return i?e:{};if(V=function(e){return"function"!=typeof e.constructor||Be(e)?{}:(t=ie(e),Ye(t)?oe(t):{});var t}(D?{}:e),!t)return function(e,t){return De(e,Pe(e),t)}(e,function(e,t){return e&&De(t,ze(t),e)}(V,e))}else{if(!G[F])return i?e:{};V=function(e,t,r,n){var a=e.constructor;switch(t){case R:return Fe(e);case u:case c:return new a(+e);case A:return function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case S:case y:case I:case b:case O:case m:case h:case T:case N:return function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case f:return function(e,t,r){return B(t?r(x(e),!0):x(e),j,new e.constructor)}(e,n,r);case g:case v:return new a(e);case p:return(l=new(o=e).constructor(o.source,U.exec(o))).lastIndex=o.lastIndex,l;case d:return function(e,t,r){return B(t?r(W(e),!0):W(e),K,new e.constructor)}(e,n,r);case _:return i=e,Oe?Object(Oe.call(i)):{}}var i;var o,l}(e,F,Ge,t)}}L||(L=new Ne);var M=L.get(e);if(M)return M;if(L.set(e,V),!C)var k=r?function(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}(n,r(e))}(e,ze,Pe)}(e):ze(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(k||e,(function(a,i){k&&(a=e[i=a]),Le(V,i,Ge(a,t,r,n,i,e,L))})),V}function Ce(e){return!(!Ye(e)||(t=e,Q&&Q in t))&&(Je(e)||w(e)?te:L).test(we(e));var t}function Fe(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function De(e,t,r,n){r||(r={});for(var a=-1,i=t.length;++a<i;){var o=t[a],u=n?n(r[o],e[o],o,r,e):void 0;Le(r,o,void 0===u?e[o]:u)}return r}function Me(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function ke(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ce(r)?r:void 0}me.prototype.clear=function(){this.__data__=_e?_e(null):{}},me.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},me.prototype.get=function(e){var t=this.__data__;if(_e){var r=t[e];return r===a?void 0:r}return Z.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return _e?void 0!==t[e]:Z.call(t,e)},me.prototype.set=function(e,t){return this.__data__[e]=_e&&void 0===t?a:t,this},he.prototype.clear=function(){this.__data__=[]},he.prototype.delete=function(e){var t=this.__data__,r=Ve(t,e);return!(r<0)&&(r==t.length-1?t.pop():ce.call(t,r,1),!0)},he.prototype.get=function(e){var t=this.__data__,r=Ve(t,e);return r<0?void 0:t[r][1]},he.prototype.has=function(e){return Ve(this.__data__,e)>-1},he.prototype.set=function(e,t){var r=this.__data__,n=Ve(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new me,map:new(Ee||he),string:new me}},Te.prototype.delete=function(e){return Me(this,e).delete(e)},Te.prototype.get=function(e){return Me(this,e).get(e)},Te.prototype.has=function(e){return Me(this,e).has(e)},Te.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Ne.prototype.clear=function(){this.__data__=new he},Ne.prototype.delete=function(e){return this.__data__.delete(e)},Ne.prototype.get=function(e){return this.__data__.get(e)},Ne.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.set=function(e,t){var r=this.__data__;if(r instanceof he){var a=r.__data__;if(!Ee||a.length<n-1)return a.push([e,t]),this;r=this.__data__=new Te(a)}return r.set(e,t),this};var Pe=le?H(le,Object):function(){return[]},je=function(e){return ee.call(e)};function Ke(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||V.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||z)}function we(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xe(e,t){return e===t||e!=e&&t!=t}(ge&&je(new ge(new ArrayBuffer(1)))!=A||Ee&&je(new Ee)!=f||pe&&"[object Promise]"!=je(pe.resolve())||de&&je(new de)!=d||ve&&"[object WeakMap]"!=je(new ve))&&(je=function(e){var t=ee.call(e),r=t==E?e.constructor:void 0,n=r?we(r):void 0;if(n)switch(n){case Re:return A;case Ae:return f;case Se:return"[object Promise]";case ye:return d;case Ie:return"[object WeakMap]"}return t});var He=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Je(e)}var Xe=se||function(){return!1};function Je(e){var t=Ye(e)?ee.call(e):"";return t==l||t==s}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ze(e){return We(e)?Ue(e):function(e){if(!Be(e))return fe(e);var t=[];for(var r in Object(e))Z.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}r.exports=function(e){return Ge(e,!0,!0)}}).call(this,r(19),r(20)(e))},function(e,t){var r={areObjectKeys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length},getKeyValue:function(e){if(r.areObjectKeys(e)){var t=Object.keys(e)[0];return{key:t,value:e[t]}}}};e.exports=r},function(e,t,r){var n=r(9),a=r(0),i=r(1),o=a.getLogger(),u=a.LogLevelEnum,c=a.LogMessageEnum,l=a.LogMessageUtil,s=i.FunctionUtil,f={cloneObject:function(e){return e?n(e):e},getRandomNumber:function(){return Math.random()},getCurrentUnixTimestamp:function(){return Math.ceil(+new Date/1e3)},matchWithRegex:function(e,t){try{return e.match(new RegExp(t))}catch(e){return o.log(u.ERROR,l.build(c.ERROR_MESSAGES.REGEX_CREATION_FAILED,{file:s})),null}}};e.exports=f},function(e,t,r){var n=r(26),a=r(3),i=r(4),o=r(0),u=r(1),c=o.LogLevelEnum,l=o.LogMessageEnum,s=o.LogMessageUtil,f=o.getLogger(),g={_generateBucketValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e/Math.pow(2,32),a=(t*n+1)*r,i=Math.floor(a);return i},_getVariation:function(e,t){for(var r=0;r<Object.keys(e).length;r++){var n=e[r];if(t>=n.startVariationAllocation&&t<=n.endVariationAllocation)return n}return null},_getBucketValueForUser:function(e){var t=n.v3(e,a.SEED_VALUE),r=g._generateBucketValue(t,a.MAX_TRAFFIC_PERCENT);return f.log(c.DEBUG,s.build(l.DEBUG_MESSAGES.USER_HASH_BUCKET_VALUE,{file:u.BucketingService,hashValue:t,bucketValue:r,userId:e})),r},isUserPartOfCampaign:function(e,t){if(!i.isValidValue(e))return f.log(c.ERROR,s.build(l.ERROR_MESSAGES.INVALID_USER_ID,{file:u.BucketingService,userId:e,method:"isUserPartOfCampaign"})),!1;if(!t)return f.log(c.ERROR,s.build(l.ERROR_MESSAGES.INVALID_CAMPAIGN,{file:u.BucketingService,method:"isUserPartOfCampaign"})),!1;var r=t.percentTraffic,n=g._getBucketValueForUser(e),a=0!==n&&n<=r;return f.log(c.INFO,s.build(l.INFO_MESSAGES.USER_ELIGIBILITY_FOR_CAMPAIGN,{file:u.BucketingService,userId:e,isUserPart:a})),a},bucketUserToVariation:function(e,t){var r;if(!i.isValidValue(e))return f.log(c.ERROR,s.build(l.ERROR_MESSAGES.INVALID_USER_ID,{file:u.BucketingService,userId:e,method:"bucketUserToVariation"})),null;if(!t)return f.log(c.ERROR,s.build(l.ERROR_MESSAGES.INVALID_CAMPAIGN,{file:u.BucketingService,method:"bucketUserToVariation"})),null;t.percentTraffic&&(r=a.MAX_TRAFFIC_VALUE/t.percentTraffic/100);var n=g._generateHashValue(e),o=g._generateBucketValue(n,a.MAX_TRAFFIC_VALUE,r);return f.log(c.DEBUG,s.build(l.DEBUG_MESSAGES.VARIATION_HASH_BUCKET_VALUE,{file:u.BucketingService,userId:e,campaignKey:t.key,percentTraffic:t.percentTraffic,bucketValue:o,hashValue:n})),g._getVariation(t.variations,o)},calculateBucketValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=g._generateHashValue(e);return g._generateBucketValue(r,a.MAX_TRAFFIC_VALUE,t)},_generateHashValue:function(e){return n.v3(e,a.SEED_VALUE)}};e.exports=g},function(e,t,r){var n,a;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(28),u={NOTSET:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},c=(i(n={},u.NOTSET,"".concat(o.BOLD).concat(o.WHITE,"[NOTSET]:").concat(o.RESET)),i(n,u.DEBUG,"".concat(o.BOLD).concat(o.LIGHTBLUE,"[DEBUG]: ").concat(o.RESET)),i(n,u.INFO,"".concat(o.BOLD).concat(o.CYAN,"[INFO]:  ").concat(o.RESET)),i(n,u.WARN,"".concat(o.BOLD).concat(o.YELLOW,"[WARN]:  ").concat(o.RESET)),i(n,u.ERROR,"".concat(o.BOLD).concat(o.RED,"[ERROR]: ").concat(o.RESET)),n),l=(i(a={},u.NOTSET,"[NOTSET]:"),i(a,u.DEBUG,"[DEBUG]: "),i(a,u.INFO,"[INFO]:  "),i(a,u.WARN,"[WARN]:  "),i(a,u.ERROR,"[ERROR]: "),a);e.exports={LogLevelEnum:u,LogNumberLevel:{_0:"NOTSET",_1:"DEBUG",_2:"INFO",_3:"WARN",_4:"ERROR"},LogLevelInfoEnum:l,LogLevelColorInfoEnum:c}},function(e,t,r){var n=r(2),a=r(0),i=r(1),o=a.LogLevelEnum,u=a.LogMessageEnum,c=a.LogMessageUtil,l=a.getLogger(),s=i.CachingUtil,f={_cache:{},_generateCacheKey:function(e,t){var r="";if(n.isString(t)||n.isNumber(t))r="".concat(e,"__").concat(t);else if(n.isObject(t)){var a="";for(var i in t)t.hasOwnProperty(i)&&(a+="__".concat(t[i]));r="".concat(e).concat(a)}return r},resetCache:function(){f._cache={},l.log(o.DEBUG,c.build(u.DEBUG_MESSAGES.RESET_CACHE,{file:s}))},get:function(e,t){if(e&&t){var r=f._generateCacheKey(e,t);return!!f._cache[r]&&(l.log(o.DEBUG,c.build(u.DEBUG_MESSAGES.GOT_FROM_CACHE,{file:s,finalKey:r})),f._cache[r])}return!1},set:function(e,t,r){if(t&&r){var n=f._generateCacheKey(e,t);l.log(o.DEBUG,c.build(u.DEBUG_MESSAGES.SET_IN_CACHE,{file:s,finalKey:n})),f._cache[n]=r}return!1},remove:function(e,t){if(t&&e){var r=f._generateCacheKey(e,t);return l.log(o.DEBUG,c.build(u.DEBUG_MESSAGES.REMOVE_FROM_CACHE,{file:s,finalKey:r})),delete f._cache[r],!0}return!1}};e.exports=f},function(e,t,r){var n={SegmentOperandTypes:r(36),SegmentOperatorTypes:r(37),SegmentOperandValueTypeRegexes:r(38),SegmentOperandValues:r(39)};e.exports=n},function(e,t){e.exports={BASE_URL:"dev.visualwebsiteoptimizer.com",ACCOUNT_SETTINGS:"/server-side/settings",TRACK_USER:"/server-side/track-user",TRACK_GOAL:"/server-side/track-goal",PUSH:"/server-side/push"}},function(e,t){e.exports={REVENUE:"REVENUE_TRACKING",CUSTOM:"CUSTOM_GOAL"}},function(e,t,r){var n=r(9),a=r(21),i=r(2),o=r(59),u=r(0),c=r(1),l=u.setLogHandler,s=u.setLogLevel,f=u.LogLevelEnum,g=u.LogNumberLevel,E=u.LogMessageEnum,p=u.LogMessageUtil,d=u.getLogger();u.setLogLevel(f.ERROR),e.exports={logging:u,setLogger:l,setLogLevel:s,getSettingsFile:o.get,launch:function(e){var t={};try{t=n(e)||{}}catch(e){d.log(f.ERROR,p.build(E.ERROR_MESSAGES.PROJECT_CONFIG_CORRUPTED,{file:c.INDEX,value:t.logging.haveColoredLogs})),t={}}return t.isDevelopmentMode&&u.setLogColorMode(!0),t.logging&&i.isObject(t.logging)&&(void 0!==t.logging.haveColoredLogs&&(u.setLogColorMode(t.logging.haveColoredLogs),d.log(f.DEBUG,p.build(E.DEBUG_MESSAGES.SET_COLORED_LOG,{file:c.INDEX,value:t.logging.haveColoredLogs}))),t.logging.logger&&i.isObject(t.logging.logger)&&i.isFunction(t.logging.logger.log)?(u.setLogHandler(t.logging.logger),u.setLogLevel(u.LogLevelEnum.NOTSET),d.log(f.DEBUG,p.build(E.DEBUG_MESSAGES.CUSTOM_LOGGER_USED,{file:c.INDEX}))):t.logging.logger&&d.log(f.ERROR,p.build(E.ERROR_MESSAGES.CUSTOM_LOGGER_MISCONFIGURED,{file:c.INDEX})),void 0!==t.logging.level&&(u.setLogLevel(t.logging.level),d.log(f.DEBUG,p.build(E.DEBUG_MESSAGES.LOG_LEVEL_SET,{file:c.INDEX,level:g["_"+t.logging.level]})))),t.isDevelopmentMode&&d.log(f.DEBUG,p.build(E.DEBUG_MESSAGES.SET_DEVELOPMENT_MODE,{file:c.INDEX})),t.logger=t.logger||d,new a(t)}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(22),i=r(14),o=r(53),u=r(56),c=r(0),l=r(1),s=c.LogLevelEnum,f=c.LogMessageEnum,g=c.LogMessageUtil,E=l.VWO,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getVariation=this.getVariationName,this.userStorageService=t.userStorageService,this.logger=t.logger;var r=new u(t);r.isSettingsFileValid(t)?(this.logger.log(s.DEBUG,g.build(f.DEBUG_MESSAGES.VALID_CONFIGURATION,{file:E})),this.eventQueue=new o,this.SettingsFileManager=r,this.SettingsFileManager.processsettingsFile(t),this.logger.log(s.DEBUG,g.build(f.DEBUG_MESSAGES.SDK_INITIALIZED,{file:E})),i.resetCache()):this.logger.log(s.ERROR,g.build(f.ERROR_MESSAGES.INVALID_CONFIGURATION,{file:E}))}var t,r,c;return t=e,(r=[{key:"activate",value:function(e,t,r){try{return a.activate(this,e,t,r)}catch(e){return this.logger.log(s.ERROR,e.message),null}}},{key:"getVariationName",value:function(e,t,r){try{return a.getVariation(this,e,t,r)}catch(e){return this.logger.log(s.ERROR,e.message),null}}},{key:"track",value:function(e,t,r,n){try{return a.track(this,e,t,r,n)}catch(e){return this.logger.log(s.ERROR,e.message),!1}}},{key:"isFeatureEnabled",value:function(e,t,r){try{return a.isFeatureEnabled(this,e,t,r)}catch(e){return this.logger.log(s.ERROR,e.message),!1}}},{key:"getFeatureVariableValue",value:function(e,t,r,n){try{return a.getFeatureVariableValue(this,e,t,r,n)}catch(e){return this.logger.log(s.ERROR,e.message),null}}},{key:"push",value:function(e,t,r){try{return a.push(this,e,t,r)}catch(e){return this.logger.log(s.ERROR,e.message),!1}}}])&&n(t.prototype,r),c&&n(t,c),e}();e.exports=p},function(e,t,r){var n=r(23),a=r(46),i=r(47),o=r(48),u=r(49),c=r(52);e.exports={activate:n,getVariation:a,track:i,isFeatureEnabled:o,getFeatureVariableValue:u,push:c}},function(e,t,r){var n=r(3),a=r(6),i=r(7),o=r(5),u=r(8),c=r(4),l=r(2),s=r(0),f=r(1),g=s.LogLevelEnum,E=s.LogMessageEnum,p=s.LogMessageUtil,d=f.Activate;e.exports=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=a.ACTIVATE,v=!1;if(l.isObject(s)){var _=s.customVariables,R=s.variationTargetingVariables;c.areValidParamsForAPIMethod({method:a.ACTIVATE,campaignKey:t,userId:r,customVariables:_,variationTargetingVariables:R})&&(v=!0)}if(!1===v)return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.ACTIVATE_API_MISSING_PARAMS,{file:d})),null;var A=e.SettingsFileManager.getConfig(),S=A.settingsFile;if(!S)return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.ACTIVATE_API_CONFIG_CORRUPTED,{file:d})),null;var y=o.getCampaign(S,t);if(!y||y.status!==n.STATUS_RUNNING)return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:d,campaignKey:t,api:f})),null;if(!o.isAbCampaign(y))return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.INVALID_API,{file:d,campaignKey:t,campaignType:y.type,userId:r,api:f})),null;var I=i.getVariation(A,y,t,r,_,R),b=I.variationId,O=I.variationName;if(!c.isValidValue(O))return e.logger.log(g.INFO,p.build(E.INFO_MESSAGES.INVALID_VARIATION_KEY,{file:d,userId:r,campaignKey:t})),null;var m=u.buildEventForTrackingUser(S,y.id,b,r);return e.eventQueue.process(A,m,e),O}},function(e,t,r){var n=r(4),a=r(12),i=r(0),o=r(1),u=i.LogLevelEnum,c=i.LogMessageEnum,l=i.LogMessageUtil,s=i.getLogger(),f={getVariationAllotted:function(e,t){var r={variation:null,variationId:null,variationName:null};if(!n.isValidValue(e))return s.log(u.ERROR,l.build(c.ERROR_MESSAGES.INVALID_USER_ID,{file:o.BucketingService,userId:e,method:"getVariationAllotted"})),r;if(a.isUserPartOfCampaign(e,t)){var i=f.getVariationOfCampaignForUser(e,t)||{};r.variation=i,r.variationId=i.id,r.variationName=i.name,s.log(u.DEBUG,l.build(c.DEBUG_MESSAGES.GOT_VARIATION_FOR_USER,{file:o.VariationDecider,variationName:i.name,userId:e,campaignKey:t.key,method:"getVariationAllotted"}))}else s.log(u.DEBUG,l.build(c.DEBUG_MESSAGES.USER_NOT_PART_OF_CAMPAIGN,{file:o.VariationDecider,userId:e,campaignKey:t.key,method:"getVariationAllotted"}));return r},getVariationOfCampaignForUser:function(e,t){if(!n.isValidValue(e))return s.log(u.ERROR,l.build(c.ERROR_MESSAGES.INVALID_USER_ID,{file:o.BucketingService,userId:e,method:"getVariationOfCampaignForUser"})),null;if(!t)return s.log(u.ERROR,l.build(c.ERROR_MESSAGES.INVALID_CAMPAIGN,{file:o.BucketingService,method:"getVariationOfCampaignForUser"})),null;var r=a.bucketUserToVariation(e,t);return r&&r.name?(s.log(u.INFO,l.build(c.INFO_MESSAGES.GOT_VARIATION_FOR_USER,{file:o.VariationDecider,variationName:r.name,userId:e,campaignKey:t.key})),{variation:r,name:r.name,id:r.id}):(s.log(u.INFO,l.build(c.INFO_MESSAGES.USER_GOT_NO_VARIATION,{file:o.VariationDecider,userId:e,campaignKey:t.key})),null)}};e.exports=f},function(e,t){e.exports={NUMBER:"number",STRING:"string",FUNCTION:"function",BOOLEAN:"boolean",OBJECT:"object"}},function(e,t,r){!function(){function t(e,t){var r,n,a,i,o,u,c,l;for(r=3&e.length,n=e.length-r,a=t,o=3432918353,u=461845907,l=0;l<n;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,a=27492+(65535&(i=5*(65535&(a=(a^=c=(65535&(c=(c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*u+(((c>>>16)*u&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(c=0,r){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:a^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*u+(((c>>>16)*u&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,a=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0},r.v3=t,e.exports=r}()},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(13),i=a.LogLevelEnum,o=a.LogNumberLevel,u=r(29),c=r(30),l=r(31),s=i.NOTSET,f=!1,g=new l,E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.isColoredLogEnabled=f}var t,r,a;return t=e,(r=[{key:"_customLog",value:function(e,t){e<s||g.log(e,t)}},{key:"log",value:function(e,t){try{this._customLog(e,t)}catch(e){console.error("VWO: Could not log.",e)}}},{key:"info",value:function(e){this._customLog(i.INFO,e)}},{key:"debug",value:function(e){this._customLog(i.DEBUG,e)}},{key:"warn",value:function(e){this._customLog(i.WARN,e)}},{key:"error",value:function(e){this._customLog(i.ERROR,e)}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports={LogLevelEnum:i,LogNumberLevel:o,LogMessageUtil:c,LogMessageEnum:u,getLogger:function(e){return new E(e)},setLogHandler:function(e){g=e},setLogLevel:function(e){s=void 0===e?i.ERROR:e},getLogLevel:function(){return s},LogManager:E,setLogColorMode:function(e){f=e,g.isColoredLogEnabled=f},getLogColorMode:function(){return f},globalLogHandler:g}},function(e,t){e.exports={BOLD:"[1m",CYAN:"[36m",GREEN:"[32m",LIGHTBLUE:"[94m",RED:"[31m",RESET:"[0m",WHITE:"[30m",YELLOW:"[33m"}},function(e,t){e.exports={DEBUG_MESSAGES:{CHECK_USER_ELIGIBILITY_FOR_CAMPAIGN:"({file}): campaign:{campaignKey} having traffic allocation:{trafficAllocation} assigned value:{trafficAllocation} to User ID:{userId}",CUSTOM_LOGGER_USED:"({file}): Custom logger used",FEATURE_FLAG_NOT_LINKED:"({file}): Feature:{campaignKey} is not linked to any running campaigns",GETTING_STORED_VARIATION:"({file}): Got stored variation for User ID:{userId} of Campaign:{campaignKey} as Variation: {variationName}, found in UserStorageService",GOT_FROM_CACHE:"({file}): Got data from cache for the finalKey:{finalKey}",GOT_VARIATION_FOR_USER:"({file}): User ID:{userId} for campaign:{campaignKey} got variationName:{variationName} inside method:{method}",IMPRESSION_FOR_TRACK_GOAL:"({file}): impression built for track-goal - {properties}",IMPRESSION_FOR_TRACK_USER:"({file}): impression built for track-user - {properties}",IMPRESSION_FOR_PUSH:"({file}): impression built for pushing - {properties}",LOG_LEVEL_SET:"({file}): Log level set to {level}",NO_STORED_VARIATION:"({file}): No stored variation for User ID:{userId} for Campaign:{campaignKey} found in UserStorageService",NO_USER_STORAGE_SERVICE_GET:"({file}): No UserStorageService to look for stored data",NO_USER_STORAGE_SERVICE_SET:"({file}): No UserStorageService to save data",REMOVE_FROM_CACHE:"({file}): Removed data from cache for the finalKey:{finalKey}",RESET_CACHE:"({file}): Cache Reset on VWO instantiation",SDK_INITIALIZED:"({file}): SDK properly initialzed",SET_COLORED_LOG:"({file}): Colored log set to {value}",SET_DEVELOPMENT_MODE:"({file}): DEVELOPMENT mode is ON",SET_IN_CACHE:"({file}): Set data in cache for the finalKey:{finalKey}",SETTINGS_FILE_PROCESSED:"({file}): Settings file processed",USER_HASH_BUCKET_VALUE:"({file}): User ID:{userId} having hash:{hashValue} got bucketValue:{bucketValue}",USER_NOT_PART_OF_CAMPAIGN:"({file}): userId:{userId} for campaign:{campaignKey} did not become part of campaign, method:{method}",UUID_FOR_USER:"({file}): Uuid generated for User ID:{userOd} and accountId:{accountId} is {desiredUuid}",VALID_CONFIGURATION:"({file}): SDK configuration and account settings are valid.",VARIATION_HASH_BUCKET_VALUE:"({file}): User ID:{userId} for campaign:{campaignKey} having percent traffic:{percentTraffic} got hash-value:{hashValue} and bucket value:{bucketValue}",SEGMENTATION_SKIPPED:"({file}): For userId:{userId} of campaign:{campaignKey}, segment was missing, hence skipping segmentation{variation}",SEGMENTATION_STATUS:"({file}): For userId:{userId} of campaign:{campaignKey} with variables:{customVariables} {status} {segmentationType} {variation}",WHITELISTING_SKIPPED:"({file}): For userId:{userId} of campaign:{campaignKey}, whitelisting was skipped"},INFO_MESSAGES:{FEATURE_ENABLED_FOR_USER:"({file}): Campaign having campaign-key:{campaignKey} for user ID:{userId} is enabled",FEATURE_NOT_ENABLED_FOR_USER:"({file}): Campaign having campaign-key:{campaignKey} for user ID:{userId} is not enabled",GOT_STORED_VARIATION:"({file}): Got stored variation:{variationName} of campaign:{campaignKey} for User ID:{userId} from UserStorageService",GOT_VARIATION_FOR_USER:"({file}): User ID:{userId} for campaign:{campaignKey} got variationName:{variationName}",IMPRESSION_SUCCESS:"({file}): Impression event - {endPoint} was successfully received by VWO having main keys: accountId:{accountId}, User ID:{userId}, campaignId:{campaignId} and variationId:{variationId}",INVALID_VARIATION_KEY:"({file}): Variation was not assigned to User ID:{userId} for campaign:{campaignKey}",LOOKING_UP_USER_PROFILE_SERVICE:"({file}): Looked into UserStorageService for User ID:{userId} successful",NO_VARIATION_ALLOCATED:"({file}): User ID:{userId} of Campaign:{campaignKey} did not get any variation",RETRY_FAILED_IMPRESSION_AFTER_DELAY:"({file}): Failed impression event for {endPoint} will be retried after {retryTimeout} milliseconds delay",SAVING_DATA_USER_PROFILE_SERVICE:"({file}): Saving into UserStorageService for User ID:{userId} successful",USER_ELIGIBILITY_FOR_CAMPAIGN:"({file}): Is User ID:{userId} part of campaign? {isUserPart}",USER_GOT_NO_VARIATION:"({file}): User ID:{userId} for campaign:{campaignKey} did not allot any variation",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:"({file}): User:{userId} is not in any variation or rollout rule. Returning default value for variable:{variableKey} of feature flag:{campaignKey}",USER_RECEIVED_VARIABLE_VALUE:"({file}): Value for variable:{variableKey} of feature flag:{campaignKey} is:{variableValue} for user:{userId}",VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:"({file}): Variable:{variableKey} is not used in variation:{variationName}. Returning default value",VARIATION_ALLOCATED:"({file}): User ID:{userId} of Campaign:{campaignKey} got variation: {variationName}",VARIATION_RANGE_ALLOCATION:"({file}): Campaign:{campaignKey} having variations:{variationName} with weight:{variationWeight} got range as: ( {start} - {end} ))",SEGMENTATION_STATUS:"({file}): UserId:{userId} of campaign:{campaignKey} with variables:{customVariables} {status} {segmentationType} {variation}"},WARNING_MESSAGES:{},ERROR_MESSAGES:{ACTIVATE_API_CONFIG_CORRUPTED:'({file}): "activate" API has corrupted configuration',ACTIVATE_API_MISSING_PARAMS:'({file}): "activate" API got bad parameters. It expects campaignKey(String) as first, userId(String) as second and options(optional Object) as third argument',CAMPAIGN_NOT_RUNNING:"({file}): API used:{api} - Campaign:{campaignKey} is not RUNNING. Please verify from VWO App",FEATURE_FLAG_NOT_FOUND:"({file}): Feature: {campaignKey} not found in settingsFile",GET_FEATURE_VARIABLE_CONFIG_CORRUPTED:'({file}): "getFeatureVariableValue" API has corrupted configuration',GET_FEATURE_VARIABLE_MISSING_PARAMS:'({file}): "getFeatureVariableValue" API got bad parameters. It expects campaignKey(String) as first, variableKey(String) as second, userId(String) as third, and options(optional Object) as fourth argument',GET_VARIATION_API_CONFIG_CORRUPTED:'({file}): "getVariation" API has corrupted configuration',GET_VARIATION_API_MISSING_PARAMS:'({file}): "getVariation" API got bad parameters. It expects campaignKey(String) as first, userId(String) as second and options(optional Object) as third argument',IMPRESSION_FAILED:"({file}): Impression event could not be sent to VWO - {endPoint}. Reason: {err}",INVALID_CAMPAIGN:"({file}): Invalid campaign passed to {method} of this file",INVALID_CONFIGURATION:"({file}): SDK configuration or account settings or both is/are not valid.",IS_FEATURE_ENABLED_API_CONFIG_CORRUPTED:'({file}): "isFeatureEnabled" API has corrupted configuration',IS_FEATURE_ENABLED_API_MISSING_PARAMS:'({file}): "isFeatureEnabled" API got bad parameters. It expects Campaign(String) as first, userId(String) as second and options(optional Object) as third argument',LOOK_UP_USER_PROFILE_SERVICE_FAILED:"({file}): Looking data from UserStorageService failed for User ID:{userId}",PROJECT_CONFIG_CORRUPTED:"({file}): config passed to launch API is not a valid JSON object.",SAVE_USER_PROFILE_SERVICE_FAILED:"({file}): Saving data into UserStorageService failed for User ID:{userId}",SETTINGS_FILE_CORRUPTED:"({file}): Settings file is corrupted. Please contact VWO Support for help.",TRACK_API_CONFIG_CORRUPTED:'({file}): "track" API has corrupted configuration',TRACK_API_MISSING_PARAMS:'({file}): "track" API got bad parameters. It expects campaignKey(String) as first, userId(String) as second, goalIdentifier(String/Number) as third and options(optional Object) as fourth argument',TRACK_API_VARIATION_NOT_FOUND:"({file}): Variation not found for campaign:{campaignKey} and User ID:{userId}",UNABLE_TO_CAST_VALUE:"({file}): Unable to cast value:{variableValue} to type:{variableType}, returning null",FEATURE_TEST_NOT_RUNNING:"({file}): API used:{api} - Feature test corresponding to Campaign:{campaignKey} is not RUNNING. Please verify from VWO app.",VARIABLE_NOT_FOUND:"({file}): Variable:{variableKey} for User ID:{userId} is not found in settings-file. Returning null",INVALID_API:"({file}): {api} API is not valid for campaign: {campaignKey} having campaign type: {campaignType} for User ID: {userId}.",TRACK_API_GOAL_NOT_FOUND:"({file}): Goal:{goalIdentifier} not found for campaign:{campaignKey} and userId:{userId}",TRACK_API_REVENUE_NOT_PASSED_FOR_REVENUE_GOAL:"({file}): Revenue value should be passed for revenue goal:{goalIdentifier} for campaign:{campaignKey} and userId:{userId}",PUSH_INVALID_PARAMS:'({file}): "{method}" API got bad parameters. It expects tagKey(String) as first, tagValue(String) as second and userId(String) as third argument',PUSH_API_CONFIG_CORRUPTED:'({file}): "{method}" API has corrupted configuration',TAG_KEY_LENGTH_EXCEEDED:"({file}): Length of tagKey:{tagKey} for userID:{userId} can not be greater than 255",TAG_VALUE_LENGTH_EXCEEDED:"({file}): Length of value:{tagValue} of tagKey:{tagKey} for userID:{userId} can not be greater than 255",REGEX_CREATION_FAILED:"({file}): Regex cound not be processed.",SEGMENTATION_ERROR:"({file}): Error while segmenting the userId:{userId} of campaignKey:{campaignKey}{variation} with customVariables:{customVariables}. Error message: {err}"}}},function(e,t,r){var n=r(2),a=/\{([0-9a-zA-Z_]+)\}/g,i={build:function(e,t){try{return e.replace(a,(function(r,a,i){var o;if("{"===e[i-1]&&"}"===e[i+r.length])return a;if(t.hasOwnProperty(a)){var u=t[a];n.isFunction(u)&&(u=t[a]()),o=u}else o=null;return null==o?"":o}))}catch(t){return e}}};e.exports=i},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(13),i=a.LogLevelEnum,o=a.LogLevelInfoEnum,u=a.LogLevelColorInfoEnum,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logLevel=i.NOTSET,this.prefix="VWO-SDK",this.isColoredLogEnabled=!1}var t,r,a;return t=e,(r=[{key:"log",value:function(e,t){var r;this.shouldLog(e)&&(r=this.isColoredLogEnabled?"".concat(this.prefix," - ").concat(u[e]," ").concat(this.getCurrentTime()," ").concat(t):"".concat(this.prefix," - ").concat(o[e]," ").concat(this.getCurrentTime()," ").concat(t),this.consoleLog(e,[r]))}},{key:"shouldLog",value:function(e){return e>=this.logLevel}},{key:"getCurrentTime",value:function(){return(new Date).toISOString()}},{key:"setLogLevel",value:function(e){this.logLevel=void 0===e?i.ERROR:e}},{key:"consoleLog",value:function(e,t){switch(e){case i.INFO:console.info.apply(console,t);break;case i.WARN:console.warn.apply(console,t);break;case i.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports=c},function(e,t){e.exports={LOOK_CAMPAIGN_GOAL:"lookCampaignGoal",LOOK_CAMPAIGN_WITH_ID:"lookCampaignWithId",LOOK_CAMPAIGN_WITH_KEY:"lookCampaignWithKey",LOOK_CAMPAIGN_VARIATION:"lookCampaignVariation",LOOK_FEATURE_WITH_KEY:"lookFeatureWithKey",LOOK_FEATURE_VARIABLE:"lookFeatureVariable"}},function(e,t){e.exports={FEATURE_TEST:"FEATURE_TEST",FEATURE_ROLLOUT:"FEATURE_ROLLOUT",AB:"VISUAL_AB"}},function(e,t){e.exports={PASSED:"passed",FAILED:"failed"}},function(e,t,r){var n=r(15),a=r(10).getKeyValue,i=r(40),o=i.operandCustomVariablesParser,u=i.operandUserParser,c=r(0),l=r(2),s=r(1),f=n.SegmentOperatorTypes,g=f.AND,E=f.OR,p=f.NOT,d=n.SegmentOperandTypes,v=d.CUSTOM_VARIABLE,_=d.USER,R=c.LogLevelEnum,A=c.LogMessageEnum,S=c.LogMessageUtil,y=s.SegmentEvaluator,I=c.getLogger();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";try{return l.isObject(e)&&!Object.keys(e).length?(I.log(R.DEBUG,S.build(A.DEBUG_MESSAGES.SEGMENTATION_SKIPPED,{campaignKey:r,userId:n,file:y})),!0):!l.isObject(e)||!Object.keys(e).length||function e(t,r){var n=a(t),i=n.key,c=n.value;var l=i;var s=c;if(l===p)return!e(s,r);if(l===g){for(var f=[],d=0;d<s.length;d++)f.push(e(s[d],r));return f.every((function(e){return e}))}if(l===E){for(var R=[],A=0;A<s.length;A++)R.push(e(s[A],r));return R.some((function(e){return e}))}if(l===v)return o(s,r);if(l===_)return u(s,r)}(e,t)}catch(e){return I.log(R.INFO,S.build(A.ERROR_MESSAGES.SEGMENTATION_ERROR,{campaignKey:r,userId:n,customVariables:JSON.stringify(t),file:y,err:e,variation:i})),!1}}},function(e,t){e.exports={CUSTOM_VARIABLE:"custom_variable",USER:"user"}},function(e,t){e.exports={AND:"and",NOT:"not",OR:"or"}},function(e,t){e.exports={LOWER:/^lower/,LOWER_MATCH:/^lower\((.*)\)/,WILDCARD:/^wildcard/,WILDCARD_MATCH:/^wildcard\((.*)\)/,REGEX:/^regex/,REGEX_MATCH:/^regex\((.*)\)/,STARTING_STAR:/^\*/,ENDING_STAR:/\*$/}},function(e,t){e.exports={LOWER_VALUE:1,STARTING_ENDING_STAR_VALUE:2,STARTING_STAR_VALUE:3,ENDING_STAR_VALUE:4,REGEX_VALUE:5,EQUAL_VALUE:6}},function(e,t,r){var n=r(2),a=r(11).matchWithRegex,i=r(10).getKeyValue,o=r(15),u=o.SegmentOperandValueTypeRegexes,c=u.LOWER_MATCH,l=u.WILDCARD_MATCH,s=u.REGEX_MATCH,f=u.STARTING_STAR,g=u.ENDING_STAR,E=o.SegmentOperandValues,p=E.LOWER_VALUE,d=E.STARTING_ENDING_STAR_VALUE,v=E.STARTING_STAR_VALUE,_=E.ENDING_STAR_VALUE,R=E.REGEX_VALUE,A=E.EQUAL_VALUE;function S(e,t){return a(e,t)&&a(e,t)[1]}function y(e,t){var r=parseFloat(e,10),n=parseFloat(t,10);return r&&n?(r===Math.floor(r)&&(r=parseInt(r,10)),n===Math.floor(n)&&(n=parseInt(n,10)),{operandValue:r.toString(),tagValue:n.toString()}):{operandValue:e,tagValue:t}}function I(e){return void 0===e&&(e=""),n.isBoolean(e)&&(e=!!e),null!==e&&(e=e.toString()),e}function b(e){var t,r,n,i;return a(e,c)?(t=p,r=S(e,c)):a(e,l)?(r=S(e,l),n=a(r,f),i=a(r,g),n&&i?t=d:n?t=v:i&&(t=_),r=r.replace(f,"").replace(g,"")):a(e,s)?(t=R,r=S(e,s)):(t=A,r=e),{operandType:t,operandValue:r}}e.exports={extractOperandValue:S,processValues:y,preProcessTagValue:I,preProcessOperandValue:b,operandCustomVariablesParser:function(e,t){var r=i(e),n=r.key;e=r.value;var a=t[n];a=I(a);var o=b(e),u=o.operandType,c=y(o.operandValue,a);return a=c.tagValue,function(e,t,r){var n;switch(e){case p:null!==r&&(n=t.toLowerCase()===r.toLowerCase());break;case d:null!==r&&(n=r.indexOf(t)>-1);break;case v:null!==r&&(n=r.endsWith(t));break;case _:null!==r&&(n=r.startsWith(t));break;case R:try{var a=new RegExp(t,"g");n=!!a.test(r)}catch(e){n=!1}break;default:n=r===t}return n}(u,c.operandValue,a)},operandUserParser:function(e,t){for(var r=e.split(","),n=0;n<r.length;n++)if(r[n].trim()===t._vwoUserId)return!0;return!1}}},function(e,t,r){var n=r(42),a=r(3),i=r(0),o=r(1),u=i.LogLevelEnum,c=i.LogMessageEnum,l=i.LogMessageUtil,s=i.getLogger(),f=n(a.SEED_URL,n.URL),g={generateFor:function(e,t){e="".concat(e);var r="".concat(t),n=g.generate(r,f),a=g.generate(e,n).replace(/-/gi,"").toUpperCase();return s.log(u.DEBUG,l.build(c.DEBUG_MESSAGES.UUID_FOR_USER,{file:o.UuidUtil,userId:e,accountId:t,desiredUuid:a})),a},generate:function(e,t){if(e&&t)return n(e,t)}};e.exports=g},function(e,t,r){var n=r(43),a=r(45);e.exports=n("v5",80,a)},function(e,t,r){var n=r(44);e.exports=function(e,t,r){var a=function(e,a,i,o){var u=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof a&&(a=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(a)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(a)||16!==a.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=r(a.concat(e));if(c[6]=15&c[6]|t,c[8]=63&c[8]|128,i)for(var l=0;l<16;++l)i[u+l]=c[l];return i||n(c)};try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")}},function(e,t,r){"use strict";function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function a(e,t){return e<<t|e>>>32-t}e.exports=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=new Array(i.length);for(var o=0;o<i.length;o++)e[o]=i.charCodeAt(o)}e.push(128);var u=e.length/4+2,c=Math.ceil(u/16),l=new Array(c);for(o=0;o<c;o++){l[o]=new Array(16);for(var s=0;s<16;s++)l[o][s]=e[64*o+4*s]<<24|e[64*o+4*s+1]<<16|e[64*o+4*s+2]<<8|e[64*o+4*s+3]}for(l[c-1][14]=8*(e.length-1)/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=8*(e.length-1)&4294967295,o=0;o<c;o++){for(var f=new Array(80),g=0;g<16;g++)f[g]=l[o][g];for(g=16;g<80;g++)f[g]=a(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);var E=r[0],p=r[1],d=r[2],v=r[3],_=r[4];for(g=0;g<80;g++){var R=Math.floor(g/20),A=a(E,5)+n(R,p,d,v)+_+t[R]+f[g]>>>0;_=v,v=d,d=a(p,30)>>>0,p=E,E=A}r[0]=r[0]+E>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+_>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},function(e,t,r){var n=r(3),a=r(6),i=r(7),o=r(5),u=r(4),c=r(2),l=r(0),s=r(1),f=l.LogLevelEnum,g=l.LogMessageEnum,E=l.LogMessageUtil,p=s.getVariation;e.exports=function(e,t,r){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.GET_VARIATION_NAME,d=!1;if(c.isObject(l)){var v=l.customVariables,_=l.variationTargetingVariables;u.areValidParamsForAPIMethod({method:a.GET_VARIATION_NAME,campaignKey:t,userId:r,customVariables:v,variationTargetingVariables:_})&&(d=!0)}if(!1===d)return e.logger.log(f.ERROR,E.build(g.ERROR_MESSAGES.GET_VARIATION_API_MISSING_PARAMS,{file:p})),null;var R=e.SettingsFileManager.getConfig(),A=R.settingsFile;if(!A)return e.logger.log(f.ERROR,E.build(g.ERROR_MESSAGES.GET_VARIATION_API_CONFIG_CORRUPTED,{file:p})),null;var S=o.getCampaign(A,t);if(!S||S.status!==n.STATUS_RUNNING)return e.logger.log(f.ERROR,E.build(g.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:p,campaignKey:t,api:s})),null;if(o.isFeatureRolloutCampaign(S))return e.logger.log(f.ERROR,E.build(g.ERROR_MESSAGES.INVALID_API,{file:p,campaignKey:t,campaignType:S.type,userId:r,api:s})),null;var y=i.getVariation(R,S,t,r,v,_).variationName;return y||null}},function(e,t,r){var n=r(3),a=r(17),i=r(6),o=r(7),u=r(5),c=r(8),l=r(4),s=r(2),f=r(0),g=r(1),E=f.LogLevelEnum,p=f.LogMessageEnum,d=f.LogMessageUtil,v=g.Track;e.exports=function(e,t,r,f){var g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},_=i.TRACK,R=!1;if(s.isObject(g)){var A=g.revenueValue,S=g.customVariables,y=g.variationTargetingVariables;l.areValidParamsForAPIMethod({method:i.TRACK,campaignKey:t,userId:r,goalIdentifier:f,customVariables:S,variationTargetingVariables:y})&&(R=!0)}if(!1===R)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.TRACK_API_MISSING_PARAMS,{file:v})),!1;var I=e.SettingsFileManager.getConfig(),b=I.settingsFile;if(!b)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.TRACK_API_CONFIG_CORRUPTED,{file:v})),!1;var O=u.getCampaign(b,t);if(!O||O.status!==n.STATUS_RUNNING)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:v,campaignKey:t,api:_})),!1;if(u.isFeatureRolloutCampaign(O))return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.INVALID_API,{file:v,campaignKey:t,campaignType:O.type,userId:r,api:_})),!1;var m=O.id,h=u.getCampaignGoal(I,O.key,f);if(!h)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.TRACK_API_GOAL_NOT_FOUND,{file:v,userId:r,goalIdentifier:f,campaignKey:t})),!1;if(h.type===a.REVENUE&&!l.isValidValue(A))return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.TRACK_API_REVENUE_NOT_PASSED_FOR_REVENUE_GOAL,{file:v,userId:r,goalIdentifier:f,campaignKey:t})),!1;var T=o.getVariation(I,O,t,r,S,y),N=T.variationId;if(T.variationName){var U=c.buildEventForTrackingGoal(b,m,N,r,h,A);return e.eventQueue.process(I,U,e),!0}return!1}},function(e,t,r){var n=r(3),a=r(6),i=r(7),o=r(5),u=r(8),c=r(4),l=r(2),s=r(0),f=r(1),g=s.LogLevelEnum,E=s.LogMessageEnum,p=s.LogMessageUtil,d=f.IsFeatureEnabled;e.exports=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=a.IS_FEATURE_ENABLED,v=!1;if(l.isObject(s)){var _=s.customVariables,R=s.variationTargetingVariables;c.areValidParamsForAPIMethod({method:a.IS_FEATURE_ENABLED,campaignKey:t,userId:r,customVariables:_,variationTargetingVariables:R})&&(v=!0)}if(!1===v)return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.IS_FEATURE_ENABLED_API_MISSING_PARAMS,{file:d})),!1;var A=e.SettingsFileManager.getConfig(),S=A.settingsFile;if(!S)return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.IS_FEATURE_ENABLED_API_CONFIG_CORRUPTED,{file:d})),!1;var y=o.getCampaign(S,t);if(!y||y.status!==n.STATUS_RUNNING)return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:d,campaignKey:t,api:f})),!1;if(o.isAbCampaign(y))return e.logger.log(g.ERROR,p.build(E.ERROR_MESSAGES.INVALID_API,{file:d,campaignKey:t,campaignType:y.type,userId:r,api:f})),!1;var I=i.getVariation(A,y,t,r,_,R),b=I.variation,O=I.variationName,m=I.variationId,h=!1;if(O&&o.isFeatureTestCampaign(y)){h=b.isFeatureEnabled;var T=u.buildEventForTrackingUser(S,y.id,m,r);e.eventQueue.process(A,T,e)}else O&&o.isFeatureRolloutCampaign(y)&&(h=!0);return h?e.logger.log(g.INFO,p.build(E.INFO_MESSAGES.FEATURE_ENABLED_FOR_USER,{file:d,campaignKey:t,userId:r})):e.logger.log(g.INFO,p.build(E.INFO_MESSAGES.FEATURE_NOT_ENABLED_FOR_USER,{file:d,campaignKey:t,userId:r})),h}},function(e,t,r){var n=r(3),a=r(6),i=r(7),o=r(5),u=r(4),c=r(50),l=r(2),s=r(10),f=r(0),g=r(1),E=f.LogLevelEnum,p=f.LogMessageEnum,d=f.LogMessageUtil,v=g.GetFeatureVariableValue;e.exports=function(e,t,r,f){var g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};try{var _=a.GET_FEATURE_VARIABLE_VALUE,R=!1;if(l.isObject(g)){var A=g.customVariables,S=g.variationTargetingVariables;u.areValidParamsForAPIMethod({method:a.GET_FEATURE_VARIABLE_VALUE,campaignKey:t,variableKey:r,userId:f,customVariables:A,variationTargetingVariables:S})&&(R=!0)}if(!1===R)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.GET_FEATURE_VARIABLE_MISSING_PARAMS,{file:v,campaignKey:t,variableKey:r})),null;var y=e.SettingsFileManager.getConfig(),I=y.settingsFile;if(!I)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.GET_FEATURE_VARIABLE_CONFIG_CORRUPTED,{file:v})),null;var b,O=o.getCampaign(I,t);if(!O||O.status!==n.STATUS_RUNNING)return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:v,campaignKey:t,api:_})),null;if(o.isAbCampaign(O))return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.INVALID_API,{file:v,campaignKey:t,campaignType:O.type,userId:f,api:_})),null;var m=i.getVariation(y,O,t,f,A,S),h=m.variation,T=m.variationName;if(!T)return e.logger.log(E.INFO,d.build(p.INFO_MESSAGES.FEATURE_NOT_ENABLED_FOR_USER,{file:v,campaignKey:t,userId:f})),null;if(o.isFeatureRolloutCampaign(O)?b=c.getVariableForFeature(O,r):o.isFeatureTestCampaign(O)&&(b=c.getVariableValueForVariation(O,h,r),s.areObjectKeys(b)&&h.isFeatureEnabled?e.logger.log(E.INFO,d.build(p.INFO_MESSAGES.USER_RECEIVED_VARIABLE_VALUE,{file:v,variableKey:r,campaignKey:O.key,variableValue:b.value,userId:f})):s.areObjectKeys(b)&&!h.isFeatureEnabled&&e.logger.log(E.INFO,d.build(p.INFO_MESSAGES.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,{file:v,variableKey:r,variationName:T}))),!s.areObjectKeys(b))return e.logger.log(E.ERROR,d.build(p.ERROR_MESSAGES.VARIABLE_NOT_FOUND,{file:v,variableKey:r,userId:f})),null;var N=b.value;return c.getTypeCastVariableValue(N,b.type)}catch(t){return e.logger.log(E.ERROR,t.message),null}}},function(e,t,r){var n=r(5),a=r(2),i=r(51),o=r(0),u=r(1),c=o.LogLevelEnum,l=o.LogMessageEnum,s=o.LogMessageUtil,f=o.getLogger(),g=u.FeatureUtil,E={getVariableForFeature:function(e,t){var r={};if(n.isFeatureRolloutCampaign(e)){for(var a=e.variables||[],i=0;i<a.length;i++)if(a[i].key===t){r=a[i];break}return r}return r},getVariableValueForVariation:function(e,t,r){var a={};if(n.isFeatureTestCampaign(e)){if(!t||!t||!t.variables)return a;t.isFeatureEnabled||(t=n.getControlForCampaign(e));for(var i=0;i<t.variables.length;i++){var o=t.variables[i];if(r===o.key){a=o;break}}}return a},getTypeCastVariableValue:function(e,t){var r;switch(t){case i.INTEGER:r=parseInt(e,10),a.isNumber(r)&&!isNaN(r)||(f.log(c.ERROR,s.build(l.ERROR_MESSAGES.UNABLE_TO_CAST_VALUE,{file:g,variableValue:e,variableType:t})),r=null);break;case i.DOUBLE:r=parseFloat(e),a.isNumber(r)&&!isNaN(r)||(f.log(c.ERROR,s.build(l.ERROR_MESSAGES.UNABLE_TO_CAST_VALUE,{file:g,variableValue:e,variableType:t})),r=null);break;case i.BOOLEAN:a.isBoolean(e)?r=e:(f.log(c.ERROR,s.build(l.ERROR_MESSAGES.UNABLE_TO_CAST_VALUE,{file:g,variableValue:e,variableType:t})),r=null);break;default:r=e}return r}};e.exports=E},function(e,t){e.exports={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"}},function(e,t,r){var n=r(6),a=r(0),i=r(1),o=r(4),u=r(8),c=a.LogLevelEnum,l=a.LogMessageEnum,s=a.LogMessageUtil,f=i.Push;e.exports=function(e,t,r,a){var i=n.PUSH;if(!o.areValidParamsForAPIMethod({method:n.PUSH,tagKey:t,tagValue:r,userId:a}))return e.logger.log(c.ERROR,s.build(l.ERROR_MESSAGES.PUSH_INVALID_PARAMS,{file:f,method:i})),!1;if(t.length>255)return e.logger.log(c.ERROR,s.build(l.ERROR_MESSAGES.TAG_KEY_LENGTH_EXCEEDED,{file:f,tagKey:t,userId:a})),!1;if(r.length>255)return e.logger.log(c.ERROR,s.build(l.ERROR_MESSAGES.TAG_VALUE_LENGTH_EXCEEDED,{file:f,tagKey:t,userId:a,tagValue:r})),!1;var g=e.SettingsFileManager.getConfig(),E=g.settingsFile;if(!E)return e.logger.log(c.ERROR,s.build(l.ERROR_MESSAGES.GET_VARIATION_API_CONFIG_CORRUPTED,{file:f,method:i})),!1;var p=u.buildEventForPushing(E,t,r,a);return e.eventQueue.process(g,p,e),!0}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(2),i=r(54),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.running=!1,this.queue=[]}var t,r,o;return t=e,(r=[{key:"process",value:function(e,t,r){e&&e.isDevelopmentMode||this.enqueue(t,r)}},{key:"enqueue",value:function(e,t){return this.queue.push({eventName:e.eventName,properties:e,callback:function(){i.dispatch(e,(function(){}))}}),t.eventQueue.executeNext(e),this.running||this.executeNext(e),this}},{key:"executeNext",value:function(e){if(this.running=!1,this.queue&&this.queue.length){var t=this.queue.shift();t&&(this.running=!0,t.callback&&a.isFunction(t.callback)&&t.callback(e))}}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=o},function(e,t,r){var n=r(0),a=r(1),i=n.LogLevelEnum,o=n.LogMessageEnum,u=n.LogMessageUtil,c=n.getLogger(),l=["url"],s={dispatch:function(e,t){var n,s="?";for(var f in e)e.hasOwnProperty(f)&&-1===l.indexOf(f)&&(s+=f+"="+e[f]+"&");try{0,n=new URL(e.url),r(55).sendCall(n,s)}catch(t){var g=e.url;c.log(i.ERROR,u.build(o.ERROR_MESSAGES.IMPRESSION_FAILED,{file:a.EventDispatcher,endPoint:g,err:t}))}return!1}};e.exports=s},function(e,t){var r=function(){},n={sendCall:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://".concat(e.host).concat(e.pathname).concat(t),i=n.successCallback,o=n.errorCallback,u=!1,c=new Image;i=i||r,o=o||r,c.onload=function(){u||(u=!0,i())},c.onerror=function(){u||(u=!0,o())},c.src=a}};e.exports=n},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(57),i=r(5),o=r(0),u=r(1),c=o.LogLevelEnum,l=o.LogMessageEnum,s=o.LogMessageUtil,f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.settingsFile&&(t.settingsFile.campaigns||(t.settingsFile.campaigns=[])),this.__configObj=t}var t,r,o;return t=e,(r=[{key:"_setVariationBucketing",value:function(e){i.setVariationAllocation(e)}},{key:"isSettingsFileValid",value:function(e){return e&&e.settingsFile?(this.__configObj=e,!!a.test(e.settingsFile)||(e.logger.log(c.ERROR,s.build(l.ERROR_MESSAGES.SETTINGS_FILE_CORRUPTED,{file:u.SettingsFileManager})),!1)):(this.__configObj=null,!1)}},{key:"processsettingsFile",value:function(e){for(var t=e.settingsFile,r=0;r<t.campaigns.length;r++){var n=t.campaigns[r];this._setVariationBucketing(n)}return e.logger.log(c.DEBUG,s.build(l.DEBUG_MESSAGES.SETTINGS_FILE_PROCESSED,{file:u.SettingsFileManager})),t}},{key:"getConfig",value:function(){return this.__configObj}},{key:"getSettingsFile",value:function(){return this.__configObj.settingsFile}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=f},function(e,t,r){var n=r(58),a=n.superstruct,i=n.struct;function o(e,t){return"[object Object]"===Object.prototype.toString.call(e)?i({}).test(e):"[object Array]"===Object.prototype.toString.call(e)&&t.test(e)}var u=(i=a({types:{variationsType:function(e){return o(e,l)},goalsType:function(e){return o(e,u)},variablesType:function(e){return o(e,c)},campaignsType:function(e){return o(e,s)}}}))([{id:"number|string",identifier:"string",type:"string"}]),c=i([{id:"number|string",type:"string",key:"string",value:"number|string|boolean"}]),l=i([{id:"number|string",name:"string",weight:"number|string",changes:"object?",segments:"object?",variables:"variablesType?",isFeatureEnabled:"boolean?",startVariationAllocation:"number?",endVariationAllocation:"number?"}]),s=i([{id:"number|string",type:"string",key:"string",status:"string",percentTraffic:"number",goals:"goalsType",variations:"variationsType",variables:"variablesType?",segments:"object",isForcedVariationEnabled:"boolean?"}]),f=i({sdkKey:"string",version:"number|string",accountId:"number|string",campaigns:"campaignsType"});e.exports=f},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,r){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&u(a,r.prototype),a}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}r.r(t),r.d(t,"StructError",(function(){return _})),r.d(t,"Types",(function(){return E})),r.d(t,"isStruct",(function(){return A})),r.d(t,"struct",(function(){return b})),r.d(t,"superstruct",(function(){return I}));var s=Object.prototype.toString,f=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===g(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(g(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=s.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")};function g(e){return e.constructor?e.constructor.name:null}var E={any:function(e){return void 0!==e},arguments:function(e){return"arguments"===f(e)},array:function(e){return"array"===f(e)},boolean:function(e){return"boolean"===f(e)},buffer:function(e){return"buffer"===f(e)},date:function(e){return"date"===f(e)&&!isNaN(e)},error:function(e){return"error"===f(e)},float32array:function(e){return"float32array"===f(e)},float64array:function(e){return"float64array"===f(e)},function:function(e){return"function"===f(e)},generatorfunction:function(e){return"generatorfunction"===f(e)},int16array:function(e){return"int16array"===f(e)},int32array:function(e){return"int32array"===f(e)},int8array:function(e){return"int8array"===f(e)},map:function(e){return"map"===f(e)},null:function(e){return"null"===f(e)},number:function(e){return"number"===f(e)},object:function(e){return"object"===f(e)},promise:function(e){return"promise"===f(e)},regexp:function(e){return"regexp"===f(e)},set:function(e){return"set"===f(e)},string:function(e){return"string"===f(e)},symbol:function(e){return"symbol"===f(e)},uint16array:function(e){return"uint16array"===f(e)},uint32array:function(e){return"uint32array"===f(e)},uint8array:function(e){return"uint8array"===f(e)},uint8clampedarray:function(e){return"uint8clampedarray"===f(e)},undefined:function(e){return"undefined"===f(e)},weakmap:function(e){return"weakmap"===f(e)},weakset:function(e){return"weakset"===f(e)}},p=!0,d="Invariant failed";function v(e,t){if(!e)throw p?new Error(d):new Error(d+": "+(t||""))}var _=function(e){var t,r;function n(t){var r;v(t.length>0,"StructError requires being passed a failure, but received: "+t);var a=t[0],i=a.path,o=a.value,u=a.type,c=a.branch,l=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(a,["path","value","type","branch"]),s="Expected a value of type `"+u+"`"+(i.length?" for `"+i.join(".")+"`":"")+" but received `"+JSON.stringify(o)+"`.";return(r=e.call(this,s)||this).type=u,r.value=o,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),l),r.path=i,r.branch=c,r.failures=t,r.stack=(new Error).stack,r.__proto__=n.prototype,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(l(TypeError)),R=Symbol("STRUCT"),A=function(e){return"function"==typeof e&&e[R]},S=function(e){var t=e.struct.Error,r=function e(t){return e.assert(t)};return Object.defineProperty(r,R,{value:!0}),r.kind=e.kind,r.type=e.type,r.default=function(){return"function"==typeof e.defaults?e.defaults():e.defaults},r.test=function(e){return!r.check(e,[e],[])[0]},r.assert=function(e){var n=r.check(e,[e],[]),a=n[0],i=n[1];if(a)throw new t(a);return i},r.validate=function(e){var n=r.check(e,[e],[]),a=n[0],i=n[1];return a?[new t(a)]:[void 0,i]},r.check=function(e,t,n){return void 0===e&&(e=r.default()),[[r.fail({value:e,branch:t,path:n})]]},r.fail=function(e){return i({},e,{type:"type"in e?e.type:r.type})},r},y=function(e,t,r){v(Array.isArray(e)&&0!==e.length,"Union structs must be defined as a non-empty array, but you passed: "+e);var n=e.map((function(e){return r(e)})),a=n.map((function(e){return e.type})).join(" | "),i=S({kind:"union",type:a,defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=n,o=Array.isArray(a),u=0;for(a=o?a:a[Symbol.iterator]();;){var c;if(o){if(u>=a.length)break;c=a[u++]}else{if((u=a.next()).done)break;c=u.value}var l=c.check(e,t,r),s=l[0],f=l[1];if(!s)return[void 0,f]}return[[i.fail({value:e,branch:t,path:r})]]},i},I=function(e){void 0===e&&(e={});var t=function e(t,r){return function(e,t,r){if(A(e))return e;if(Array.isArray(e)){if(1===e.length){var n=e[0];return r.array([n],t)}if(e.length>1)return r.tuple(e,t)}if("function"==typeof e)return r.function(e,t);if("object"==typeof e)return r.object(e,t);if("string"==typeof e){var a,i=!1;if(e.endsWith("?")&&(i=!0,e=e.slice(0,-1)),e.includes("|")){var o=e.split(/\s*\|\s*/g);a=r.union(o,t)}else if(e.includes("&")){var u=e.split(/\s*&\s*/g);a=r.intersection(u,t)}else a=r.scalar(e,t);return i&&(a=r.union([a,"undefined"],void 0)),a}throw new Error("A schema definition must be an object, array, string or function, but you passed: "+e)}(t,r,e)};return t.array=function(e,r){return function(e,t,r){v(Array.isArray(e)&&1===e.length,"Array structs must be defined as an array with one element, but you passed: "+e);var n=r(e[0],void 0),a=S({kind:"array",type:n.type+"[]",defaults:t,struct:r});return a.check=function(e,t,r){if(void 0===e&&(e=a.default()),!Array.isArray(e))return[[a.fail({value:e,branch:t,path:r})]];for(var i=[],o=[],u=0;u<e.length;u++){var c=e[u],l=n.check(c,t.concat(c),r.concat(u)),s=l[0],f=l[1];s?o.push.apply(o,s):i[u]=f}return o.length?[o]:[void 0,i]},a}(e,r,t)},t.dynamic=function(e,r){return function(e,t,r){v("function"==typeof e,"Dynamic structs must be defined as a function, but you passed: "+e);var n=S({kind:"dynamic",type:"dynamic<…>",defaults:t,struct:r});return n.check=function(t,r,a){return void 0===t&&(t=n.default()),e(t,r,a).check(t,r,a)},n}(e,r,t)},t.enum=function(e,r){return function(e,t,r){v(Array.isArray(e),"Enum structs must be defined as an array, but you passed: "+e);var n=r((function(t){return e.includes(t)}),t);return n.kind="enum",n.type=e.map((function(e){return"string"==typeof e?'"'+e+'"':""+e})).join(" | "),n}(e,r,t)},t.function=function(e,r){return function(e,t,r){var n=S({kind:"function",type:"function<…>",defaults:t,struct:r});return n.check=function(t,r,a){void 0===t&&(t=n.default());var o=e(t,r,a);if(!0===o)return[void 0,t];var u=[];if(!1===o)u.push(n.fail({value:t,branch:r,path:a}));else if(Array.isArray(o)&&o.length>0){var c=o,l=Array.isArray(c),s=0;for(c=l?c:c[Symbol.iterator]();;){var f;if(l){if(s>=c.length)break;f=c[s++]}else{if((s=c.next()).done)break;f=s.value}var g=f;u.push(n.fail(i({value:t,branch:r,path:a},g)))}}else"object"==typeof o?u.push(n.fail(i({value:t,branch:r,path:a},o))):v(!1,"Validator functions must return a boolean, a failure object, or an array of failure objects, but you passed: "+o);return[u]},n}(e,r,t)},t.instance=function(e,r){return function(e,t,r){v("function"==typeof e,"Instance structs must be defined as a function, but you passed: "+e);var n=r((function(t){return t instanceof e}),t);return n.kind="instance",n.type="instance<"+e.name+">",n}(e,r,t)},t.interface=function(e,r){return function(e,t,r){v("object"==typeof e,"Interface structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r(e[a]);var i=S({kind:"interface",type:"interface<{"+Object.keys(e).join()+"}>",defaults:t,struct:r});return i.check=function(e,t,r){if(void 0===e&&(e=i.default()),"object"!=typeof e&&"function"!=typeof e)return[[i.fail({value:e,branch:t,path:r})]];var a=[];for(var o in n){var u=n[o],c=e[o],l=u.check(c,t.concat(c),r.concat(o))[0];l&&a.push.apply(a,l)}return a.length?[a]:[void 0,e]},i}(e,r,t)},t.intersection=function(e,r){return function(e,t,r){v(Array.isArray(e)&&0!==e.length,"Intersection structs must be defined as a non-empty array, but you passed: "+e);var n=e.map((function(e){return r(e)})),a=n.map((function(e){return e.type})).join(" & "),i=S({kind:"intersection",type:a,defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=e,o=n,u=Array.isArray(o),c=0;for(o=u?o:o[Symbol.iterator]();;){var l;if(u){if(c>=o.length)break;l=o[c++]}else{if((c=o.next()).done)break;l=c.value}var s=l.check(e,t,r),f=s[0],g=s[1];if(f)return[[i.fail({value:e,branch:t,path:r})]];a=g}return[void 0,a]},i}(e,r,t)},t.lazy=function(e,r){return function(e,t,r){v("function"==typeof e,"Lazy structs must be defined as a function, but you passed: "+e);var n=S({kind:"lazy",type:"lazy<…>",defaults:t,struct:r});return n.check=function(){return Object.assign(n,e()),n.check.apply(n,arguments)},n}(e,r,t)},t.literal=function(e,r){return function(e,t,r){var n=r((function(t){return t===e}),t);return n.kind="literal",n.type="string"==typeof e?'"'+e+'"':""+e,n}(e,r,t)},t.object=function(e,r){return function(e,t,r){v("object"==typeof e,"Object structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r(e[a]);var i=S({kind:"object",type:"{"+Object.keys(e).join()+"}",defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=i.default();if(void 0===e&&(e=a),"object"!==f(e))return[[i.fail({value:e,branch:t,path:r})]];var o={},u=[],c=new Set(Object.keys(n).concat(Object.keys(e))),l=Array.isArray(c),s=0;for(c=l?c:c[Symbol.iterator]();;){var g;if(l){if(s>=c.length)break;g=c[s++]}else{if((s=c.next()).done)break;g=s.value}var E=g,p=e[E],d=r.concat(E),v=t.concat(p),_=n[E];if(void 0===p&&null!=a&&E in a&&(p="function"==typeof a[E]?a[E](e,t,r):a[E]),E in n){var R=_.check(p,v,d),A=R[0],S=R[1];A?u.push.apply(u,A):void 0!==S&&E in n&&(o[E]=S)}else u.push(i.fail({type:void 0,value:p,path:d,branch:e}))}return u.length?[u]:[void 0,o]},i}(e,r,t)},t.optional=function(e,r){return y([e,"undefined"],r,t)},t.partial=function(e,r){return function(e,t,r){v("object"==typeof e,"Partial structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r.union([e[a],"undefined"]);var i=S({kind:"object",type:"{"+Object.keys(e).join()+"}",defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=i.default();if(void 0===e&&(e=a),"object"!==f(e))return[[i.fail({value:e,branch:t,path:r})]];var o={},u=[],c=e,l=Array.isArray(c),s=0;for(c=l?c:c[Symbol.iterator]();;){var g;if(l){if(s>=c.length)break;g=c[s++]}else{if((s=c.next()).done)break;g=s.value}var E=g,p=e[E],d=r.concat(E),v=t.concat(p),_=n[E];if(void 0===p&&null!=a&&E in a&&(p="function"==typeof a[E]?a[E](e,t,r):a[E]),E in n){var R=_.check(p,v,d),A=R[0],S=R[1];A?u.push.apply(u,A):void 0!==S&&E in n&&(o[E]=S)}else u.push(i.fail({type:void 0,value:p,path:d,branch:e}))}return u.length?[u]:[void 0,o]},i}(e,r,t)},t.pick=function(e,r){return function(e,t,r){v("object"==typeof e,"Pick structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r(e[a]);var i=S({kind:"pick",type:"pick<{"+Object.keys(e).join()+"}>",defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=i.default();if(void 0===e&&(e=a),"object"!==f(e))return[[i.fail({value:e,branch:t,path:r})]];var o={},u=[];for(var c in n){var l=e[c],s=r.concat(c),g=t.concat(l),E=n[c];void 0===l&&null!=a&&c in a&&(l="function"==typeof a[c]?a[c](e,t,r):a[c]);var p=E.check(l,g,s),d=p[0],v=p[1];d?u.push.apply(u,d):void 0!==v&&c in n&&(o[c]=v)}return u.length?[u]:[void 0,o]},i}(e,r,t)},t.record=function(e,r){return function(e,t,r){v(Array.isArray(e)&&2===e.length,"Record structs must be defined as an array with two elements, but you passed: "+e);var n=r(e[0]),a=r(e[1]),o=S({kind:"record",type:"record<"+n.type+","+a.type+">",defaults:t,struct:r});return o.check=function(e,t,r){var u=o.default();if(e=u?i({},u,{},e):e,"object"!==f(e))return[[o.fail({value:e,branch:t,path:r})]];var c={},l=[];for(var s in e){var g=e[s],E=r.concat(s),p=t.concat(g),d=n.check(s,p,E),v=d[0],_=d[1];if(v)l.push.apply(l,v);else{var R=a.check(g,p,E),A=R[0],S=R[1];A?l.push.apply(l,A):c[_]=S}}return l.length?[l]:[void 0,c]},o}(e,r,t)},t.scalar=function(e,r){return function(e,t,r){v("string"==typeof e,"Scalar structs must be defined as a string, but you passed: "+e);var n=r.Types;v(e in n,'No struct validator function found for type "'+e+'".');var a=r(n[e],t);return a.kind="scalar",a.type=e,a}(e,r,t)},t.size=function(e,r){return function(e,t,r){v(Array.isArray(e)&&2===e.length&&e.every((function(e){return"number"==typeof e})),"Size structs must be defined as an array with two number elements, but you passed: "+e);var n=e[0],a=e[1],i=r((function(e){return null!=e&&"number"==typeof e.length&&e.length>=n&&e.length<=a}),t);return i.kind="size",i.type="size<"+n+","+a+">",i}(e,r,t)},t.tuple=function(e,r){return function(e,t,r){v(Array.isArray(e),"Tuple structs must be defined as an array, but you passed: "+e);var n=e.map((function(e){return r(e)})),a=S({kind:"tuple",type:"["+n.map((function(e){return e.type})).join()+"]",defaults:t,struct:r});return a.check=function(e,t,r){if(void 0===e&&(e=a.default()),!Array.isArray(e))return[[a.fail({value:e,branch:t,path:r})]];for(var i=[],o=[],u=Math.max(e.length,n.length),c=0;c<u;c++){var l=n[c],s=e[c],f=r.concat(c),g=t.concat(s);if(l){var E=l.check(s,g,f),p=E[0],d=E[1];p?o.push.apply(o,p):i[c]=d}else o.push(a.fail({type:void 0,value:s,path:f,branch:g}))}return o.length?[o]:[void 0,i]},a}(e,r,t)},t.union=function(e,r){return y(e,r,t)},t.Error=e.error||_,t.Types=i({},E,{},e.types),t},b=I()},function(e,t,r){var n=r(3),a=r(16),i=r(11);e.exports={get:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t){var u="https",c=a.BASE_URL,l=a.ACCOUNT_SETTINGS;return l+="?a=".concat(e,"&")+"i=".concat(t,"&")+"r=".concat(i.getRandomNumber(),"&")+"platform=server&"+"sdk=".concat(n.SDK_NAME,"&")+"sdk-v=".concat(n.SDK_VERSION,"&")+"api-version=1",o.hostname&&o.path&&(u=o.protocol,o.port,c=o.hostname||c,l=o.path||l),r(60).send({method:"GET",url:"".concat(u,"://").concat(c).concat(l)})}console.error("AccountId and sdkKey are required for fetching account settings. Aborting!")}}},function(e,t){var r={send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.method,r=e.url;if(r&&t)return new Promise((function(e,n){var a=new XMLHttpRequest;a.open(t,r),a.send(),a.onload=function(){try{e(JSON.parse(a.response))}catch(e){console.error(e)}},a.onerror=function(){var e="Request failed for fetching account settings. Got Status Code: ".concat(a.status);console.error(e),n(e)}}))}};e.exports=r}])}));
//# sourceMappingURL=vwo-javascript-sdk.min.js.map